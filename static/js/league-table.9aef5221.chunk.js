webpackJsonp([6],{215:function(e,a,t){"use strict";function l(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function n(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}function c(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var o=t(2),s=t(10),r=t(0),i=t(6),m=t(220),u=function(){function e(e,a){for(var t=0;t<a.length;t++){var l=a[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(a,t,l){return t&&e(a.prototype,t),l&&e(a,l),a}}(),p=function(e,a){return Array.from({length:a-e},function(a,t){return t+e})},d=function(){return o.a.createElement("div",{className:"fa-league-table-container"},o.a.createElement("div",{className:"fa-league-table-error"},"The table is not ready, Master Wayne."))},f=function(e){var a=e.position,t=e.teamName,l=e.wins,n=e.losses,c=e.draws,s=e.goalDifference,r=e.goalsAgainst,i=e.points;return o.a.createElement("tr",{className:"fa-league-table-body-row"},o.a.createElement("td",{"data-label":"Position",className:"fa-position"},a),o.a.createElement("td",{"data-label":"Team",className:"fa-team-name"},t.replace(" FC","")),o.a.createElement("td",{"data-label":"Wins",className:"fa-points"},l),o.a.createElement("td",{"data-label":"Losses",className:"fa-points"},n),o.a.createElement("td",{"data-label":"Draws",className:"fa-points"},c),o.a.createElement("td",{"data-label":"Goal Difference",className:"fa-points"},s),o.a.createElement("td",{"data-label":"Goals Against",className:"fa-points"},r),o.a.createElement("td",{"data-label":"Points",className:"fa-points"},i))},h=function(e){function a(){l(this,a);var e=n(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return e.state={loading:!1,standing:[],league:null,matchDay:null,matchDays:[1]},e._fetchCompetitionLeagueTableData=e.fetchCompetitionLeagueTableData.bind(e),e.mounted=!1,e}return c(a,e),u(a,[{key:"fetchCompetitionLeagueTableData",value:function(e){var a=this,t=e.competitionID,l=e.matchDay,n=e.replaceMatchDays;t&&(this.mounted&&this.setState(function(){return{loading:!0}}),s.a.fetchCompetitionLeagueTable(t,l).then(function(e){r.a.get(r.a.keys.MIXPANEL_DISTINCT_ID).then(function(e){var l={id:t,name:a.props.name,matchDay:s};i.a.track(e,"LeagueTable Viewed",l)}).catch(console.error);var l=e.data,c=l.leagueCaption,o=l.standing,s=l.matchday;if(a.mounted)if(!0===n){var m=s>1?p(1,s+1):[1];a.setState(function(){return{loading:!1,league:c,standing:o,matchDay:s,matchDays:m}})}else a.setState(function(){return{loading:!1,league:c,standing:o,matchDay:s}})}).catch(function(e){a.mounted&&a.setState(function(){return{loading:!1,standing:[]}})}))}},{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.state.matchDay,a=this.props.id;this._fetchCompetitionLeagueTableData({competitionID:a,matchDay:e,replaceMatchDays:!0})}},{key:"componentWillReceiveProps",value:function(e){var a=e.id;if(a!==this.props.id){var t=this.state.matchDay;this._fetchCompetitionLeagueTableData({competitionID:a,matchDay:t})}}},{key:"handleSelection",value:function(e){e.preventDefault();var a=e.target.value,t=this.props.id;this._fetchCompetitionLeagueTableData({competitionID:t,matchDay:a})}},{key:"render",value:function(){var e=this,a=this.state,t=a.loading,l=a.standing,n=a.matchDay,c=a.matchDays;return t?o.a.createElement(m.a,null):0===l.length?o.a.createElement(d,null):o.a.createElement("div",{className:"fa-league-table-container"},o.a.createElement("h2",{className:"fa-league-table-heading"},"League Table"),o.a.createElement("div",{className:"fa-league-table-match-day"},o.a.createElement("div",{className:"fa-league-table-match-day-label"},"Week:"),o.a.createElement("select",{className:"fa-league-table-match-day-value",value:n,onChange:function(a){return e.handleSelection(a)}},c.map(function(e,a){return o.a.createElement("option",{value:""+e,key:a},e)}))),o.a.createElement("table",{className:"fa-league-table"},o.a.createElement("thead",{className:"fa-league-table-head"},o.a.createElement("tr",{className:"fa-league-table-head-row"},o.a.createElement("th",{className:"fa-position",scope:"col"}),o.a.createElement("th",{className:"fa-team-name",scope:"col"},"Team"),o.a.createElement("th",{className:"fa-points",scope:"col"},"W"),o.a.createElement("th",{className:"fa-points",scope:"col"},"L"),o.a.createElement("th",{className:"fa-points",scope:"col"},"D"),o.a.createElement("th",{className:"fa-points",scope:"col"},"GD"),o.a.createElement("th",{className:"fa-points",scope:"col"},"GA"),o.a.createElement("th",{className:"fa-points",scope:"col"},"P"))),o.a.createElement("tbody",{className:"fa-league-table-body"},l.map(function(e,a){return o.a.createElement(f,Object.assign({key:a},e))}))))}}]),a}(o.a.Component);a.default=h},220:function(e,a,t){"use strict";var l=t(2),n=function(){return l.a.createElement("tr",{className:"fa-placeholder-league-table-body-row"},l.a.createElement("td",{"data-label":"Position",className:"fa-placeholder-position"}),l.a.createElement("td",{"data-label":"Team",className:"fa-placeholder-table-team-name"}),l.a.createElement("td",{"data-label":"Wins",className:"fa-placeholder-points"}),l.a.createElement("td",{"data-label":"Losses",className:"fa-placeholder-points"}),l.a.createElement("td",{"data-label":"Draws",className:"fa-placeholder-points"}),l.a.createElement("td",{"data-label":"Goal Difference",className:"fa-placeholder-points"}),l.a.createElement("td",{"data-label":"Goals Against",className:"fa-placeholder-points"}),l.a.createElement("td",{"data-label":"Points",className:"fa-placeholder-points"}))},c=function(){return l.a.createElement("div",{className:"fa-placeholder-league-table-container"},l.a.createElement("h2",{className:"fa-placeholder-league-table-heading"},"League Table"),l.a.createElement("div",{className:"fa-placeholder-league-table-match-day"},l.a.createElement("div",{className:"fa-placeholder-league-table-match-day-label"}),l.a.createElement("div",{className:"fa-placeholder-league-table-match-day-value"})),l.a.createElement("table",{className:"fa-placeholder-league-table"},l.a.createElement("thead",{className:"fa-placeholder-league-table-head"},l.a.createElement("tr",{className:"fa-placeholder-league-table-head-row"},l.a.createElement("th",{className:"fa-placeholder-position-label",scope:"col"}),l.a.createElement("th",{className:"fa-placeholder-table-team-name-label",scope:"col"},"Team"),l.a.createElement("th",{className:"fa-placeholder-points-label",scope:"col"},"W"),l.a.createElement("th",{className:"fa-placeholder-points-label",scope:"col"},"L"),l.a.createElement("th",{className:"fa-placeholder-points-label",scope:"col"},"D"),l.a.createElement("th",{className:"fa-placeholder-points-label",scope:"col"},"GD"),l.a.createElement("th",{className:"fa-placeholder-points-label",scope:"col"},"GA"),l.a.createElement("th",{className:"fa-placeholder-points-label",scope:"col"},"P"))),l.a.createElement("tbody",{className:"fa-placeholder-league-table-body"},l.a.createElement(n,null),l.a.createElement(n,null),l.a.createElement(n,null),l.a.createElement(n,null),l.a.createElement(n,null))))};a.a=c}});
//# sourceMappingURL=league-table.9aef5221.chunk.js.map